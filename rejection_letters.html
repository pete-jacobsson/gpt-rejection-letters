<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Pete Jacobsson">

<title>GPT rejection letters</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="rejection_letters_files/libs/clipboard/clipboard.min.js"></script>
<script src="rejection_letters_files/libs/quarto-html/quarto.js"></script>
<script src="rejection_letters_files/libs/quarto-html/popper.min.js"></script>
<script src="rejection_letters_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="rejection_letters_files/libs/quarto-html/anchor.min.js"></script>
<link href="rejection_letters_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="rejection_letters_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="rejection_letters_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="rejection_letters_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="rejection_letters_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">GPT rejection letters</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Pete Jacobsson </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p>This project is about using GPT to write meaningful job rejection letters. The idea for the project came from an automated response from an application I did some time ago. The message was nice, and it was nice to receive something - but the thing that struck me was that they apologized for the reply being impersonal. So I thought - <strong>Hey, it should be possible to not only personalize, but also build feedback into the reply</strong>. With a connection to GPT the ATS might start working for both sides.</p>
<section id="tldr" class="level2">
<h2 class="anchored" data-anchor-id="tldr">TLDR</h2>
<p>We have an (AI-generated) job description, an (AI-generated) CV. We run a function and we receive a rejection letter that specifies how the candidate might need to work on to improve their chances next time round. Integrated into a data workflow this would improve the engagement with prospective candidates (thus building a better talent pool for future hires), hopefully lead to improvement in candidate quality over time, and would add only a very limited cost to the operation of a recruiting system (limited to some processing power and covering GPT costs).</p>
<section id="sample-job-description" class="level3">
<h3 class="anchored" data-anchor-id="sample-job-description">Sample job description</h3>
<div class="cell" data-execution_count="1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span> (<span class="st">"sample_job.txt"</span>) <span class="im">as</span> f:</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  sample_job <span class="op">=</span> f.readlines()</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>sample_job <span class="op">=</span><span class="st">' '</span>.join(sample_job)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sample_job)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Job Description: Junior Data Analyst for Logistics Sector
 
 We are seeking a Junior Data Analyst to join our logistics team. The ideal candidate will be responsible for analyzing data and providing insights to improve our logistics operations. The candidate should have a strong analytical mindset and be able to work with large datasets. The candidate should also be able to communicate effectively with stakeholders and work collaboratively with other team members.
 
 Responsibilities:
 - Analyze data to identify trends and patterns in logistics operations
 - Develop reports and dashboards to communicate insights to stakeholders
 - Collaborate with other team members to identify areas for improvement in logistics operations
 - Work with IT team to ensure data accuracy and integrity
 - Develop and maintain data models to support logistics operations
 - Identify opportunities for automation and process improvement
 - Participate in project planning and execution
 - Communicate effectively with stakeholders to understand their needs and requirements
 - Provide training and support to other team members on data analysis tools and techniques
 - Stay up-to-date with industry trends and best practices in data analysis
 
 Requirements:
 - Bachelor's degree in Computer Science, Mathematics, Statistics, or related field
 - Strong analytical skills and ability to work with large datasets
 - Proficiency in SQL and Excel
 - Experience with data visualization tools such as Tableau or Power BI
 - Familiarity with programming languages such as Python or R
 - Knowledge of logistics operations and supply chain management
 - Experience with project management methodologies such as Agile or Waterfall
 - Excellent communication and collaboration skills
 - Ability to work independently and as part of a team
 - Strong attention to detail and ability to prioritize tasks
 
 If you are passionate about data analysis and logistics operations, we encourage you to apply for this exciting opportunity. We offer a competitive salary and benefits package, as well as opportunities for professional growth and development.</code></pre>
</div>
</div>
</section>
<section id="sample-cv" class="level3">
<h3 class="anchored" data-anchor-id="sample-cv">Sample CV</h3>
<div class="cell" data-execution_count="2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span> (<span class="st">"sample_cv.txt"</span>) <span class="im">as</span> f:</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  sample_cv <span class="op">=</span> f.readlines()</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>sample_cv <span class="op">=</span><span class="st">' '</span>.join(sample_cv)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sample_cv)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>JOHN DOE
 123 Main Street | Anytown, USA 12345 | (123) 456-7890 | john.doe@email.com
 
 SUMMARY
 Masters-educated Data Analyst with 3 years of experience in the retail sector. Proficient in statistical analysis, data modeling, and data visualization. Certified Scrum Master with experience leading cross-functional teams. Seeking a Logistics Data Analyst position.
 
 EDUCATION
 Master of Arts in Economics, Ivy League University, Anytown, USA (2017)
 Bachelor of Science in Economics, State University, Anytown, USA (2015)
 
 EXPERIENCE
 Data Analyst, Retail Company, Anytown, USA (2017-2020)
 - Conducted statistical analysis on sales data to identify trends and inform business decisions
 - Developed and maintained data models to forecast sales and inventory levels
 - Created interactive dashboards to visualize sales data and track performance metrics
 - Collaborated with cross-functional teams to identify opportunities for process improvement
 - Led daily stand-up meetings as Scrum Master to ensure project progress and team alignment
 
 Data Analyst Intern, Retail Company, Anytown, USA (2016-2017)
 - Assisted senior analysts with data cleaning and preparation
 - Conducted ad-hoc analysis to support business decisions
 - Developed basic data visualizations for internal reporting
 
 SKILLS
 - Statistical analysis: regression analysis, time series analysis, hypothesis testing
 - Data modeling: linear regression, logistic regression, decision trees
 - Data visualization: Tableau, Power BI, D3.js
 - Project management: Scrum, Kanban
 - Programming languages: Python, R, SQL
 
 CERTIFICATIONS
 Certified Scrum Master, Scrum Alliance
 
 REFERENCES
 Available upon request.</code></pre>
</div>
</div>
</section>
<section id="automatically-generated-rejection-letter" class="level3">
<h3 class="anchored" data-anchor-id="automatically-generated-rejection-letter">Automatically generated rejection letter</h3>
<div class="cell" data-execution_count="3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">##COMMENT UP THIS CODE!!!</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">'/home/pete/Documents/gpt_key.txt'</span>) <span class="im">as</span> t:</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  openai.api_key <span class="op">=</span> t.readlines()[<span class="dv">0</span>].strip(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_completion(prompt, model<span class="op">=</span><span class="st">"gpt-3.5-turbo"</span>, temperature <span class="op">=</span> <span class="dv">0</span>):</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    messages <span class="op">=</span> [{<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: prompt}]</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> openai.ChatCompletion.create(</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>        model<span class="op">=</span>model,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>        messages<span class="op">=</span>messages,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        temperature<span class="op">=</span>temperature, <span class="co"># this is the degree of randomness of the model's output</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> response.choices[<span class="dv">0</span>].message[<span class="st">"content"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="4">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> print_rejection_letter(input_job, input_cv, temperature <span class="op">=</span> <span class="fl">0.5</span>):</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    prompt <span class="op">=</span> <span class="st">"""Please compare the CV to the Job Description. Return the list of skills required in the Job description and state whether the     CV matches them (as yes or no). Make sure that the match is literal - for example if the job description specifies 'Agile', do not pass       'Scrum@ as matching. Only provide the list once. Wrtie the reply in a friendly, supportive tone, addressing the CV sender as to why they       did not receive the interview they applied for and suggest improvements for the future. Sign your reply as 'George, Automated HR              assistant'. CV:["""</span> <span class="op">+</span> input_job <span class="op">+</span> <span class="st">"""] Job description: ["""</span> <span class="op">+</span> input_cv <span class="op">+</span> <span class="st">"""]"""</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    cv_match <span class="op">=</span> get_completion(prompt, temperature  <span class="op">=</span> temperature)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> cv_match</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>rejection_letter <span class="op">=</span> print_rejection_letter(input_job <span class="op">=</span> sample_job, input_cv <span class="op">=</span> sample_cv)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rejection_letter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Dear John,

Thank you for your interest in the Junior Data Analyst position in our logistics team. After reviewing your CV, we regret to inform you that we could not proceed with your application at this time.

While your experience in data analysis and knowledge of programming languages such as Python and R are impressive, we did not find a match for some of the required skills in our job description. Specifically, we were looking for candidates with knowledge of logistics operations and supply chain management, experience with project management methodologies such as Agile or Waterfall, and proficiency in SQL and Excel.

We appreciate your interest in our company and encourage you to apply for future positions that align more closely with your skills and experience. To improve your chances of success, we suggest tailoring your CV to the specific job requirements and highlighting relevant experience and skills.

Thank you again for your application.

Best regards,

George, Automated HR assistant</code></pre>
</div>
</div>
</section>
</section>
<section id="how-does-it-work-set-up." class="level2">
<h2 class="anchored" data-anchor-id="how-does-it-work-set-up.">How does it work? Set up.</h2>
<p>I set up the GPT connection via the API using the get_completion function, as discussed by Isa Fulford and Andrew NG in their deeplearning.ai course.</p>
<div class="cell" data-execution_count="6">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> openai</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co">##COMMENT UP THIS CODE!!!</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">'/home/pete/Documents/gpt_key.txt'</span>) <span class="im">as</span> t:</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  openai.api_key <span class="op">=</span> t.readlines()[<span class="dv">0</span>].strip(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_completion(prompt, model<span class="op">=</span><span class="st">"gpt-3.5-turbo"</span>, temperature <span class="op">=</span> <span class="dv">0</span>):</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    messages <span class="op">=</span> [{<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: prompt}]</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> openai.ChatCompletion.create(</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>        model<span class="op">=</span>model,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>        messages<span class="op">=</span>messages,</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>        temperature<span class="op">=</span>temperature, <span class="co"># this is the degree of randomness of the model's output</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> response.choices[<span class="dv">0</span>].message[<span class="st">"content"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Lets test if the function works</p>
<div class="cell" data-execution_count="7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>time.sleep(<span class="dv">20</span>) <span class="co"># A forced break to ensure this does not cross the 3 API calls per minute limit</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>prompt_conn_test <span class="op">=</span> <span class="ss">f"""Are there any hurricanes in Hampshire today?"""</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> get_completion(prompt_conn_test)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>As an AI language model, I do not have access to real-time weather information. However, Hampshire is not located in an area that is typically affected by hurricanes. The United Kingdom, where Hampshire is located, is more likely to experience storms and heavy rainfall associated with extratropical cyclones.</code></pre>
</div>
</div>
<p>So we have a connection. Now lets get a fictionalized job description and a CV.</p>
</section>
<section id="how-does-it-work-job-description" class="level2">
<h2 class="anchored" data-anchor-id="how-does-it-work-job-description">How does it work? Job description</h2>
<p>We can generate the job description using GPT:</p>
<div class="cell" data-execution_count="8">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>prompt_job_descript <span class="op">=</span> <span class="ss">f"""Could you please write a job description for a junior data analyst for the logistics sector? Please make sure to include a list of ten requirements. Please make sure that the description is less than 500 words long total. Please make sure that the ten requirements refer to specific technical, project management or language skills"""</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>time.sleep(<span class="dv">20</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>job_description <span class="op">=</span> get_completion(prompt_job_descript)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(job_description)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Job Description: Junior Data Analyst for Logistics Sector

We are seeking a Junior Data Analyst to join our logistics team. The ideal candidate will be responsible for analyzing data and providing insights to improve our logistics operations. The candidate should have a strong analytical mindset and be able to work with large datasets. The candidate should also be able to communicate effectively with stakeholders and work collaboratively with other team members.

Responsibilities:
- Analyze data to identify trends and patterns in logistics operations
- Develop reports and dashboards to communicate insights to stakeholders
- Collaborate with other team members to identify areas for improvement in logistics operations
- Work with IT team to ensure data accuracy and integrity
- Develop and maintain data models to support logistics operations
- Identify opportunities for automation and process improvement
- Participate in project planning and execution
- Communicate effectively with stakeholders to understand their needs and requirements
- Provide training and support to other team members on data analysis tools and techniques
- Stay up-to-date with industry trends and best practices in data analysis

Requirements:
- Bachelor's degree in Computer Science, Mathematics, Statistics, or related field
- Strong analytical skills and ability to work with large datasets
- Proficiency in SQL and Excel
- Experience with data visualization tools such as Tableau or Power BI
- Familiarity with programming languages such as Python or R
- Knowledge of logistics operations and supply chain management
- Experience with project management methodologies such as Agile or Waterfall
- Excellent communication and collaboration skills
- Ability to work independently and as part of a team
- Strong attention to detail and ability to prioritize tasks

If you are passionate about data analysis and logistics operations, we encourage you to apply for this exciting opportunity. We offer a competitive salary and benefits package, as well as opportunities for professional growth and development.</code></pre>
</div>
</div>
<p>Hence, we built ourselves a fictionalized job description. A little not on the prompt. I wanted to have a specific enough description to generate discrepencies from a random GPT-generated CV (which we will do in the next section). I also wanted the description to not be too long (mostly for my own sake - I don’t feel like reading a 2,000 word fictitious job description). Last, on the first iteration, I didn’t like the requirements section enough - they were a little “wooly” - not something that a traditional ATS could easily detect by scanning for keywords. Hence, I added the section asking GPT to return a specific skill list for the requirements.</p>
</section>
<section id="how-does-it-work-generate-a-sample-cv" class="level2">
<h2 class="anchored" data-anchor-id="how-does-it-work-generate-a-sample-cv">How does it work? Generate a sample CV</h2>
<p>Again, I will rely on GPT for this. The original job description is one for a data analyst in a logistics sector. John Doe, our fictional rejectee will hold a Masters in economics and will have had three years experience as a data analyst in the retail sector. What Herbert will lack on his CV is evidence of knowledge of logistics, nothing on Excel, no programming languages. He will specify that he is a certified Scrum Master, but not mention project management explicitly. I might then throw in some additional curve balls into the prompt to get some more controlled clashes with the job description.</p>
<div class="cell" data-execution_count="9">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>prompt_cv <span class="op">=</span> <span class="ss">f"""Can you please generate a CV for one John Doe. John holds a Masters in economics from an Ivy League University. Since graduation he worked three years as a data anlyst within the retail sector. The CV is not to include any evidence of knowledge of logistics, does not include the word 'Excel', and has no mention of programming languages. The CV indicates that John is a Scrum master, but does not include terms 'agile' or 'project management'. Please fill in remaining details as you see fit. Please keep the CV to two pages A2. John is applying for a logistics data analyst post"""</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>time.sleep(<span class="dv">20</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>cv_text <span class="op">=</span> get_completion(prompt_cv, temperature <span class="op">=</span> <span class="fl">0.5</span>) <span class="co">#Added some variability to the responses.</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cv_text)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>CURRICULUM VITAE

JOHN DOE

Contact Information:
Address: 123 Main Street, Anytown, USA
Phone: (123) 456-7890
Email: john.doe@email.com

Objective:
To obtain a challenging position as a Logistics Data Analyst where I can utilize my analytical skills and experience in data analysis to drive business growth and success.

Education:
Master of Arts in Economics, Ivy League University, 2017
Bachelor of Science in Economics, State University, 2015

Professional Experience:

Data Analyst, Retail Sector, 2017-2020

• Conducted data analysis to identify trends and patterns in sales and customer behavior, resulting in a 10% increase in sales revenue.
• Developed and maintained databases to track inventory and sales data, resulting in improved inventory management and cost savings.
• Collaborated with cross-functional teams to analyze and interpret data, and presented findings to senior management.
• Streamlined data collection and analysis processes, resulting in a 20% increase in efficiency.

Scrum Master, Retail Sector, 2019-2020

• Facilitated daily scrum meetings and sprint planning sessions to ensure timely delivery of projects.
• Coordinated with product owners and development teams to prioritize and deliver high-quality products.
• Monitored project progress and identified potential roadblocks, resulting in timely issue resolution and successful project delivery.

Skills:
• Strong analytical and problem-solving skills
• Proficient in data analysis and database management
• Excellent communication and collaboration skills
• Knowledge of Scrum methodology

Certifications:
• Certified Scrum Master (CSM), Scrum Alliance, 2019

References:
Available upon request.</code></pre>
</div>
</div>
<div class="cell" data-execution_count="10">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">##Lets save the job description and the CV. This will allow keeping the number of API calls down, and makes the protype reproducible.</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># with open('sample_job.txt', 'w') as sj:</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   sj.write(job_description)</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co"># with open('sample_cv.txt', 'w') as cv:</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   cv.write(cv_text)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="how-does-it-work-use-gpt-to-screen-the-sample-cv" class="level2">
<h2 class="anchored" data-anchor-id="how-does-it-work-use-gpt-to-screen-the-sample-cv">How does it work? Use GPT to screen the sample CV</h2>
<p>At this stage we have a CV and a job description. In the target workflow we would run the CV through an ATS, and use that to get a list of mis-matches. However, as I don’t have access to a real ATS, I will once again use a GPT prompt instead.</p>
<div class="cell" data-execution_count="11">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span> (<span class="st">"sample_job.txt"</span>) <span class="im">as</span> f:</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  sample_job <span class="op">=</span> f.readlines()</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span> (<span class="st">"sample_cv.txt"</span>) <span class="im">as</span> f:</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  sample_cv <span class="op">=</span> f.readlines()</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>sample_cv <span class="op">=</span><span class="st">' '</span>.join(sample_cv)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>sample_job <span class="op">=</span><span class="st">' '</span>.join(sample_job)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>prompt <span class="op">=</span> <span class="st">"""Please compare the CV to the Job Description. Return the list of skills required in the Job description and state whether the CV matches them (as yes or no). Make sure that the match is literal - for example if the job description specifies 'Agile', do not pass 'Scrum@ as matching. Only provide the list once. Wrtie the reply in a friendly, supportive tone, addressing the CV sender as to why they did not receive the interview they applied for and suggest improvements for the future. Sign your reply as 'George, Automated HR assistant'. CV:["""</span> <span class="op">+</span> sample_cv <span class="op">+</span> <span class="st">"""] Job description: ["""</span> <span class="op">+</span> sample_job <span class="op">+</span> <span class="st">"""]"""</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>time.sleep(<span class="dv">20</span>)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>cv_match <span class="op">=</span> get_completion(prompt, temperature  <span class="op">=</span> <span class="fl">0.75</span>)</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cv_match)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Dear John,

Thank you for your interest in the Junior Data Analyst position in the logistics sector. We appreciate the time and effort you put into your application. Unfortunately, after reviewing your CV, we have decided not to move forward with your application as we did not find a strong match between the required skills and your experience.

The skills required for this position are:
- Strong analytical skills and ability to work with large datasets
- Proficiency in SQL and Excel
- Experience with data visualization tools such as Tableau or Power BI
- Familiarity with programming languages such as Python or R
- Knowledge of logistics operations and supply chain management
- Experience with project management methodologies such as Agile or Waterfall
- Excellent communication and collaboration skills
- Ability to work independently and as part of a team
- Strong attention to detail and ability to prioritize tasks

While your experience as a Data Analyst in the retail sector is impressive, we did not find a direct match between your skills and the requirements of this position. However, we encourage you to continue to develop your skills in SQL and data visualization tools such as Tableau or Power BI. You may also want to consider gaining experience in logistics operations and supply chain management, as well as project management methodologies such as Agile.

We appreciate your interest in this position and wish you the best of luck in your future endeavors.

Best regards,
George, Automated HR assistant</code></pre>
</div>
</div>
<p>The final step is to wrap the above bit of code into a function.</p>
<div class="cell" data-execution_count="12">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> print_rejection_letter(input_job, input_cv, temperature <span class="op">=</span> <span class="fl">0.5</span>):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    prompt <span class="op">=</span> <span class="st">"""Please compare the CV to the Job Description. Return the list of skills required in the Job description and state whether the     CV matches them (as yes or no). Make sure that the match is literal - for example if the job description specifies 'Agile', do not pass       'Scrum@ as matching. Only provide the list once. Wrtie the reply in a friendly, supportive tone, addressing the CV sender as to why they       did not receive the interview they applied for and suggest improvements for the future. Sign your reply as 'George, Automated HR              assistant'. CV:["""</span> <span class="op">+</span> input_job <span class="op">+</span> <span class="st">"""] Job description: ["""</span> <span class="op">+</span> input_cv <span class="op">+</span> <span class="st">"""]"""</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    cv_match <span class="op">=</span> get_completion(prompt, temperature  <span class="op">=</span> temperature)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> cv_match</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Test the function:</p>
<div class="cell" data-execution_count="13">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>time.sleep(<span class="dv">20</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>rejection <span class="op">=</span> print_rejection_letter(input_job <span class="op">=</span> sample_job, input_cv <span class="op">=</span> sample_cv)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rejection)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Dear John,

Thank you for your application for the Junior Data Analyst position in the logistics sector. After comparing your CV to the job description, we have found that while your skills and experience are impressive, they do not fully match the requirements for the position.

In particular, the job description requires knowledge of logistics operations and supply chain management, which is not explicitly mentioned in your experience. Additionally, while you have experience with project management methodologies such as Scrum, the job description specifically mentions Agile or Waterfall.

We appreciate your interest in our company and encourage you to continue to pursue opportunities in the field of data analysis. To improve your chances in the future, we suggest tailoring your CV to the specific job requirements and highlighting relevant experience in logistics and supply chain management.

Thank you again for your application and we wish you all the best in your job search.

Best regards,

George, Automated HR assistant</code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>